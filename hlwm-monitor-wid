#!/bin/bash
herbstclient --idle | grep --line-buffered '^\(window_title\|focus\)_changed' |
while read line; do
    herbstclient dump
done | perl -ne '$| = 1; print join(" ", m/0x[\da-f]+/g) . "\n"'
